package main

import "testing"

func TestNumberOfPointsWithAtLeastTwoOverlapsP1WithDemoInputs(t *testing.T) {
	input := "0,9 -> 5,9\n8,0 -> 0,8\n9,4 -> 3,4\n2,2 -> 2,1\n7,0 -> 7,4\n6,4 -> 2,0\n0,9 -> 2,9\n3,4 -> 1,4\n0,0 -> 8,8\n5,5 -> 8,2"
	actual := NumberOfPointsWithAtLeastTwoOverlapsP1(input)
	expected := 5
	if actual != expected {
		t.Errorf("got %d, expected %d", actual, expected)
	}
}

func TestNumberOfPointsWithAtLeastTwoOverlapsP1WithRealInputs(t *testing.T) {
	input := "822,976 -> 822,117\n387,419 -> 387,468\n659,275 -> 318,616\n535,940 -> 684,940\n294,427 -> 294,88\n568,922 -> 425,779\n99,265 -> 97,267\n534,387 -> 402,387\n958,268 -> 958,315\n234,714 -> 234,305\n507,257 -> 507,328\n455,384 -> 455,645\n483,641 -> 483,138\n410,249 -> 825,249\n609,836 -> 528,836\n77,913 -> 77,780\n478,93 -> 478,123\n391,695 -> 715,695\n972,586 -> 649,586\n936,955 -> 39,58\n168,791 -> 944,15\n934,222 -> 811,222\n372,683 -> 372,93\n911,676 -> 771,816\n147,34 -> 147,97\n524,498 -> 986,960\n791,924 -> 239,372\n293,145 -> 776,628\n195,472 -> 195,31\n884,649 -> 215,649\n95,53 -> 95,966\n484,111 -> 866,493\n564,913 -> 681,913\n36,362 -> 486,362\n762,146 -> 762,323\n330,334 -> 937,334\n704,714 -> 744,714\n56,12 -> 958,914\n855,784 -> 855,629\n206,665 -> 206,681\n436,629 -> 117,948\n414,685 -> 414,54\n788,401 -> 788,842\n442,270 -> 309,270\n606,711 -> 416,521\n45,630 -> 45,543\n221,192 -> 221,537\n629,544 -> 417,544\n362,605 -> 885,605\n988,928 -> 738,678\n460,758 -> 981,237\n561,26 -> 561,409\n543,186 -> 833,186\n963,409 -> 910,462\n55,129 -> 742,816\n245,27 -> 806,27\n318,137 -> 318,592\n762,700 -> 762,483\n436,341 -> 436,654\n641,725 -> 641,227\n486,446 -> 56,16\n113,821 -> 113,196\n740,534 -> 821,534\n606,765 -> 125,284\n614,786 -> 371,786\n215,519 -> 215,814\n274,496 -> 482,496\n131,210 -> 473,552\n701,68 -> 701,395\n81,713 -> 81,104\n458,677 -> 622,677\n237,225 -> 237,810\n384,246 -> 384,644\n411,876 -> 445,910\n182,814 -> 182,184\n643,858 -> 407,858\n698,621 -> 971,348\n309,253 -> 511,51\n990,368 -> 671,368\n129,619 -> 750,619\n382,803 -> 382,635\n629,270 -> 415,484\n550,101 -> 56,595\n971,745 -> 971,589\n353,947 -> 786,514\n71,931 -> 974,28\n915,621 -> 363,69\n650,547 -> 650,596\n884,228 -> 574,228\n833,476 -> 833,824\n24,722 -> 24,885\n401,508 -> 401,553\n452,106 -> 740,106\n255,840 -> 60,840\n551,609 -> 551,767\n799,572 -> 356,129\n343,138 -> 945,740\n77,766 -> 77,72\n190,760 -> 190,341\n978,583 -> 911,583\n557,18 -> 557,640\n673,276 -> 882,276\n143,348 -> 775,980\n776,803 -> 776,812\n38,348 -> 38,463\n648,567 -> 210,567\n468,934 -> 534,868\n966,987 -> 26,47\n471,465 -> 126,465\n26,29 -> 940,943\n416,340 -> 361,285\n702,66 -> 702,673\n34,964 -> 951,47\n156,791 -> 65,791\n635,678 -> 355,678\n898,13 -> 898,909\n644,334 -> 644,155\n304,93 -> 445,93\n946,934 -> 930,918\n376,289 -> 317,348\n460,491 -> 500,491\n761,605 -> 866,710\n252,534 -> 413,534\n178,23 -> 895,740\n677,90 -> 677,592\n905,985 -> 211,291\n963,65 -> 963,214\n853,617 -> 815,617\n576,532 -> 319,275\n134,59 -> 829,754\n926,948 -> 11,33\n46,279 -> 760,279\n60,389 -> 60,340\n49,264 -> 561,776\n912,322 -> 790,322\n825,205 -> 825,433\n637,693 -> 780,693\n891,196 -> 200,196\n537,604 -> 604,604\n870,75 -> 870,342\n518,173 -> 455,110\n666,67 -> 919,67\n536,128 -> 137,527\n698,41 -> 44,41\n936,982 -> 106,152\n780,488 -> 780,918\n968,313 -> 56,313\n759,36 -> 140,36\n111,605 -> 111,430\n609,165 -> 54,720\n388,452 -> 745,809\n986,12 -> 11,987\n193,614 -> 335,756\n113,239 -> 38,164\n715,145 -> 305,555\n632,13 -> 508,137\n698,673 -> 698,101\n954,225 -> 720,225\n626,688 -> 626,476\n636,697 -> 91,152\n228,210 -> 621,210\n83,325 -> 989,325\n644,358 -> 644,648\n481,183 -> 481,901\n803,160 -> 250,713\n648,96 -> 913,96\n921,17 -> 26,912\n844,256 -> 844,485\n190,138 -> 578,526\n383,527 -> 357,501\n529,212 -> 757,440\n646,399 -> 944,399\n961,681 -> 961,178\n40,236 -> 484,680\n432,465 -> 832,465\n988,989 -> 10,11\n850,800 -> 850,292\n25,97 -> 372,97\n383,248 -> 383,125\n577,488 -> 852,763\n607,322 -> 432,147\n611,637 -> 614,637\n853,677 -> 755,677\n953,225 -> 953,333\n984,978 -> 45,39\n95,981 -> 314,981\n550,400 -> 327,177\n929,893 -> 99,63\n958,293 -> 152,293\n68,656 -> 563,161\n45,506 -> 45,925\n271,566 -> 289,566\n460,440 -> 920,900\n392,788 -> 392,263\n946,335 -> 946,171\n833,405 -> 876,448\n268,188 -> 268,678\n881,40 -> 30,40\n317,84 -> 277,84\n415,917 -> 415,358\n28,654 -> 28,646\n346,461 -> 346,724\n935,954 -> 935,362\n121,840 -> 121,38\n29,55 -> 344,370\n774,649 -> 621,649\n31,985 -> 396,620\n85,579 -> 85,131\n181,886 -> 978,89\n284,969 -> 284,95\n669,943 -> 54,328\n72,509 -> 72,857\n460,557 -> 986,31\n555,460 -> 555,928\n921,961 -> 666,706\n11,13 -> 951,953\n173,948 -> 173,982\n680,422 -> 503,245\n443,232 -> 443,630\n829,487 -> 773,487\n176,631 -> 631,176\n860,866 -> 559,866\n317,537 -> 624,537\n937,199 -> 753,199\n484,545 -> 293,736\n84,616 -> 489,211\n340,166 -> 340,876\n47,210 -> 47,961\n852,404 -> 852,804\n831,565 -> 454,188\n236,621 -> 556,941\n734,640 -> 734,728\n756,357 -> 756,433\n102,220 -> 157,220\n153,800 -> 104,849\n710,585 -> 710,666\n724,298 -> 724,698\n762,257 -> 123,896\n402,642 -> 402,964\n549,108 -> 945,108\n301,966 -> 851,966\n399,903 -> 101,605\n194,857 -> 605,857\n291,373 -> 85,373\n601,597 -> 844,597\n362,335 -> 362,107\n769,66 -> 107,66\n49,373 -> 49,143\n96,800 -> 894,800\n468,116 -> 557,116\n549,206 -> 956,206\n918,972 -> 35,89\n688,632 -> 106,632\n267,338 -> 414,485\n258,392 -> 258,107\n604,964 -> 139,499\n975,191 -> 977,191\n861,960 -> 93,192\n979,570 -> 439,570\n961,21 -> 63,919\n312,419 -> 881,419\n507,779 -> 507,79\n775,447 -> 645,447\n34,928 -> 626,928\n786,515 -> 786,34\n81,269 -> 734,922\n938,264 -> 266,264\n799,271 -> 799,713\n765,860 -> 765,43\n967,869 -> 135,37\n920,757 -> 602,439\n419,814 -> 655,814\n22,40 -> 472,490\n136,672 -> 770,672\n667,860 -> 288,481\n311,305 -> 311,674\n163,569 -> 163,120\n801,885 -> 139,223\n551,214 -> 551,207\n594,979 -> 942,631\n347,286 -> 448,185\n161,134 -> 855,828\n861,864 -> 20,23\n309,388 -> 309,676\n582,383 -> 86,879\n930,58 -> 206,782\n538,925 -> 242,925\n379,890 -> 704,565\n338,350 -> 338,419\n916,870 -> 916,283\n101,928 -> 402,627\n899,696 -> 899,179\n96,62 -> 658,624\n950,46 -> 11,985\n914,510 -> 910,510\n98,116 -> 556,116\n165,151 -> 913,899\n822,76 -> 41,76\n878,97 -> 75,900\n476,623 -> 873,623\n257,494 -> 746,983\n638,23 -> 638,778\n969,212 -> 259,212\n186,146 -> 923,883\n799,822 -> 736,822\n628,876 -> 532,780\n388,604 -> 388,617\n591,949 -> 868,949\n92,372 -> 107,357\n274,691 -> 254,671\n169,917 -> 169,317\n792,27 -> 710,27\n215,645 -> 713,147\n886,498 -> 689,498\n955,129 -> 214,870\n561,380 -> 375,380\n391,849 -> 391,75\n181,677 -> 759,677\n347,394 -> 347,969\n52,383 -> 875,383\n498,827 -> 729,596\n125,832 -> 125,18\n799,711 -> 105,711\n952,884 -> 129,61\n123,269 -> 123,906\n792,934 -> 12,154\n955,253 -> 753,253\n676,957 -> 676,264\n437,35 -> 40,35\n661,166 -> 509,14\n72,978 -> 270,978\n554,472 -> 554,627\n914,291 -> 464,741\n450,841 -> 827,841\n846,694 -> 846,281\n391,97 -> 890,596\n859,512 -> 685,338\n349,564 -> 349,187\n473,442 -> 896,19\n383,949 -> 383,276\n568,596 -> 875,596\n298,43 -> 298,504\n482,632 -> 12,632\n44,441 -> 44,978\n210,502 -> 210,712\n191,391 -> 191,196\n27,683 -> 27,840\n47,13 -> 960,926\n81,779 -> 81,952\n914,96 -> 145,96\n444,175 -> 151,175\n293,934 -> 293,488\n106,867 -> 221,982\n669,576 -> 858,576\n713,142 -> 84,771\n60,923 -> 299,923\n376,307 -> 281,307\n904,53 -> 41,916\n763,495 -> 588,495\n62,899 -> 843,899\n63,939 -> 592,410\n294,588 -> 294,437\n920,101 -> 879,142\n688,527 -> 688,357\n679,854 -> 950,854\n636,765 -> 329,765\n939,87 -> 62,87\n952,560 -> 952,193\n466,761 -> 32,327\n189,245 -> 876,932\n42,675 -> 42,311\n787,257 -> 62,982\n934,983 -> 64,113\n548,522 -> 626,522\n942,322 -> 942,276\n267,298 -> 267,385\n632,241 -> 632,117\n192,644 -> 192,507\n627,33 -> 627,175\n350,650 -> 350,157\n807,239 -> 113,933\n294,713 -> 87,713\n81,530 -> 453,530\n539,61 -> 240,61\n893,76 -> 893,776\n39,49 -> 978,988\n733,17 -> 606,144\n19,408 -> 493,408\n364,639 -> 43,639\n873,946 -> 69,142\n825,875 -> 233,875\n708,408 -> 197,919\n990,202 -> 990,32\n370,393 -> 664,393\n764,472 -> 284,472\n308,685 -> 308,541\n917,68 -> 45,940\n397,794 -> 524,667\n525,674 -> 313,462\n475,981 -> 297,981\n728,152 -> 40,840\n265,257 -> 162,257\n621,847 -> 828,640\n547,927 -> 21,401\n351,676 -> 357,676\n668,640 -> 668,228\n138,736 -> 446,736\n912,687 -> 912,817\n718,278 -> 718,779\n674,786 -> 986,474\n812,273 -> 891,273\n46,341 -> 46,831\n404,464 -> 118,464\n277,926 -> 114,763\n231,786 -> 106,786\n266,721 -> 446,541\n42,80 -> 675,713\n422,116 -> 422,344\n922,543 -> 922,511\n525,150 -> 525,599\n862,288 -> 498,288\n961,432 -> 961,693\n895,876 -> 895,837\n619,361 -> 174,361\n275,673 -> 275,415\n950,179 -> 405,179\n460,460 -> 460,405\n222,872 -> 222,959\n451,403 -> 21,833\n570,367 -> 570,147\n260,792 -> 82,970\n586,159 -> 108,159\n956,25 -> 55,926\n71,645 -> 988,645\n540,438 -> 44,934\n230,160 -> 395,160\n811,106 -> 811,598\n819,741 -> 596,741\n347,731 -> 347,198\n503,580 -> 495,580\n30,706 -> 603,133\n257,498 -> 619,498\n232,784 -> 359,784\n826,708 -> 396,708\n14,977 -> 895,96\n964,192 -> 279,192\n611,282 -> 611,460\n207,903 -> 207,882\n969,10 -> 22,957\n403,599 -> 970,32\n712,671 -> 712,733\n795,422 -> 235,422\n47,965 -> 939,73\n925,839 -> 275,189\n102,593 -> 973,593\n389,768 -> 389,493\n234,365 -> 624,365\n50,901 -> 50,702\n345,573 -> 638,866\n798,280 -> 111,967\n258,556 -> 258,978\n966,57 -> 88,935\n171,279 -> 171,130\n238,727 -> 947,727\n683,777 -> 290,777\n552,308 -> 552,150\n81,91 -> 911,921\n845,698 -> 845,735\n712,241 -> 26,927\n120,813 -> 716,217\n947,10 -> 25,932\n395,381 -> 338,324\n408,989 -> 408,529\n600,574 -> 600,557\n46,567 -> 46,980\n983,14 -> 10,987\n984,568 -> 642,568\n543,250 -> 543,80\n765,534 -> 108,534\n89,213 -> 120,213\n893,813 -> 271,191\n133,178 -> 133,654\n468,689 -> 468,677\n970,203 -> 970,952\n892,322 -> 892,417\n593,735 -> 152,294\n839,75 -> 839,964\n746,413 -> 89,413\n535,595 -> 535,633\n771,646 -> 614,489\n572,852 -> 572,718\n125,35 -> 838,748\n122,812 -> 179,812\n467,243 -> 188,243\n713,850 -> 51,188\n633,279 -> 932,578\n428,230 -> 216,18\n94,921 -> 973,42\n513,609 -> 513,507\n826,358 -> 330,854"
	actual := NumberOfPointsWithAtLeastTwoOverlapsP1(input)
	expected := 5294
	if actual != expected {
		t.Errorf("got %d, expected %d", actual, expected)
	}
}

func TestNumberOfPointsWithAtLeastTwoOverlapsP2WithDemoInputs(t *testing.T) {
	input := "0,9 -> 5,9\n8,0 -> 0,8\n9,4 -> 3,4\n2,2 -> 2,1\n7,0 -> 7,4\n6,4 -> 2,0\n0,9 -> 2,9\n3,4 -> 1,4\n0,0 -> 8,8\n5,5 -> 8,2"
	actual := NumberOfPointsWithAtLeastTwoOverlapsP2(input)
	expected := 12
	if actual != expected {
		t.Errorf("got %d, expected %d", actual, expected)
	}
}

func TestNumberOfPointsWithAtLeastTwoOverlapsP2WithRealInputs(t *testing.T) {
	input := "822,976 -> 822,117\n387,419 -> 387,468\n659,275 -> 318,616\n535,940 -> 684,940\n294,427 -> 294,88\n568,922 -> 425,779\n99,265 -> 97,267\n534,387 -> 402,387\n958,268 -> 958,315\n234,714 -> 234,305\n507,257 -> 507,328\n455,384 -> 455,645\n483,641 -> 483,138\n410,249 -> 825,249\n609,836 -> 528,836\n77,913 -> 77,780\n478,93 -> 478,123\n391,695 -> 715,695\n972,586 -> 649,586\n936,955 -> 39,58\n168,791 -> 944,15\n934,222 -> 811,222\n372,683 -> 372,93\n911,676 -> 771,816\n147,34 -> 147,97\n524,498 -> 986,960\n791,924 -> 239,372\n293,145 -> 776,628\n195,472 -> 195,31\n884,649 -> 215,649\n95,53 -> 95,966\n484,111 -> 866,493\n564,913 -> 681,913\n36,362 -> 486,362\n762,146 -> 762,323\n330,334 -> 937,334\n704,714 -> 744,714\n56,12 -> 958,914\n855,784 -> 855,629\n206,665 -> 206,681\n436,629 -> 117,948\n414,685 -> 414,54\n788,401 -> 788,842\n442,270 -> 309,270\n606,711 -> 416,521\n45,630 -> 45,543\n221,192 -> 221,537\n629,544 -> 417,544\n362,605 -> 885,605\n988,928 -> 738,678\n460,758 -> 981,237\n561,26 -> 561,409\n543,186 -> 833,186\n963,409 -> 910,462\n55,129 -> 742,816\n245,27 -> 806,27\n318,137 -> 318,592\n762,700 -> 762,483\n436,341 -> 436,654\n641,725 -> 641,227\n486,446 -> 56,16\n113,821 -> 113,196\n740,534 -> 821,534\n606,765 -> 125,284\n614,786 -> 371,786\n215,519 -> 215,814\n274,496 -> 482,496\n131,210 -> 473,552\n701,68 -> 701,395\n81,713 -> 81,104\n458,677 -> 622,677\n237,225 -> 237,810\n384,246 -> 384,644\n411,876 -> 445,910\n182,814 -> 182,184\n643,858 -> 407,858\n698,621 -> 971,348\n309,253 -> 511,51\n990,368 -> 671,368\n129,619 -> 750,619\n382,803 -> 382,635\n629,270 -> 415,484\n550,101 -> 56,595\n971,745 -> 971,589\n353,947 -> 786,514\n71,931 -> 974,28\n915,621 -> 363,69\n650,547 -> 650,596\n884,228 -> 574,228\n833,476 -> 833,824\n24,722 -> 24,885\n401,508 -> 401,553\n452,106 -> 740,106\n255,840 -> 60,840\n551,609 -> 551,767\n799,572 -> 356,129\n343,138 -> 945,740\n77,766 -> 77,72\n190,760 -> 190,341\n978,583 -> 911,583\n557,18 -> 557,640\n673,276 -> 882,276\n143,348 -> 775,980\n776,803 -> 776,812\n38,348 -> 38,463\n648,567 -> 210,567\n468,934 -> 534,868\n966,987 -> 26,47\n471,465 -> 126,465\n26,29 -> 940,943\n416,340 -> 361,285\n702,66 -> 702,673\n34,964 -> 951,47\n156,791 -> 65,791\n635,678 -> 355,678\n898,13 -> 898,909\n644,334 -> 644,155\n304,93 -> 445,93\n946,934 -> 930,918\n376,289 -> 317,348\n460,491 -> 500,491\n761,605 -> 866,710\n252,534 -> 413,534\n178,23 -> 895,740\n677,90 -> 677,592\n905,985 -> 211,291\n963,65 -> 963,214\n853,617 -> 815,617\n576,532 -> 319,275\n134,59 -> 829,754\n926,948 -> 11,33\n46,279 -> 760,279\n60,389 -> 60,340\n49,264 -> 561,776\n912,322 -> 790,322\n825,205 -> 825,433\n637,693 -> 780,693\n891,196 -> 200,196\n537,604 -> 604,604\n870,75 -> 870,342\n518,173 -> 455,110\n666,67 -> 919,67\n536,128 -> 137,527\n698,41 -> 44,41\n936,982 -> 106,152\n780,488 -> 780,918\n968,313 -> 56,313\n759,36 -> 140,36\n111,605 -> 111,430\n609,165 -> 54,720\n388,452 -> 745,809\n986,12 -> 11,987\n193,614 -> 335,756\n113,239 -> 38,164\n715,145 -> 305,555\n632,13 -> 508,137\n698,673 -> 698,101\n954,225 -> 720,225\n626,688 -> 626,476\n636,697 -> 91,152\n228,210 -> 621,210\n83,325 -> 989,325\n644,358 -> 644,648\n481,183 -> 481,901\n803,160 -> 250,713\n648,96 -> 913,96\n921,17 -> 26,912\n844,256 -> 844,485\n190,138 -> 578,526\n383,527 -> 357,501\n529,212 -> 757,440\n646,399 -> 944,399\n961,681 -> 961,178\n40,236 -> 484,680\n432,465 -> 832,465\n988,989 -> 10,11\n850,800 -> 850,292\n25,97 -> 372,97\n383,248 -> 383,125\n577,488 -> 852,763\n607,322 -> 432,147\n611,637 -> 614,637\n853,677 -> 755,677\n953,225 -> 953,333\n984,978 -> 45,39\n95,981 -> 314,981\n550,400 -> 327,177\n929,893 -> 99,63\n958,293 -> 152,293\n68,656 -> 563,161\n45,506 -> 45,925\n271,566 -> 289,566\n460,440 -> 920,900\n392,788 -> 392,263\n946,335 -> 946,171\n833,405 -> 876,448\n268,188 -> 268,678\n881,40 -> 30,40\n317,84 -> 277,84\n415,917 -> 415,358\n28,654 -> 28,646\n346,461 -> 346,724\n935,954 -> 935,362\n121,840 -> 121,38\n29,55 -> 344,370\n774,649 -> 621,649\n31,985 -> 396,620\n85,579 -> 85,131\n181,886 -> 978,89\n284,969 -> 284,95\n669,943 -> 54,328\n72,509 -> 72,857\n460,557 -> 986,31\n555,460 -> 555,928\n921,961 -> 666,706\n11,13 -> 951,953\n173,948 -> 173,982\n680,422 -> 503,245\n443,232 -> 443,630\n829,487 -> 773,487\n176,631 -> 631,176\n860,866 -> 559,866\n317,537 -> 624,537\n937,199 -> 753,199\n484,545 -> 293,736\n84,616 -> 489,211\n340,166 -> 340,876\n47,210 -> 47,961\n852,404 -> 852,804\n831,565 -> 454,188\n236,621 -> 556,941\n734,640 -> 734,728\n756,357 -> 756,433\n102,220 -> 157,220\n153,800 -> 104,849\n710,585 -> 710,666\n724,298 -> 724,698\n762,257 -> 123,896\n402,642 -> 402,964\n549,108 -> 945,108\n301,966 -> 851,966\n399,903 -> 101,605\n194,857 -> 605,857\n291,373 -> 85,373\n601,597 -> 844,597\n362,335 -> 362,107\n769,66 -> 107,66\n49,373 -> 49,143\n96,800 -> 894,800\n468,116 -> 557,116\n549,206 -> 956,206\n918,972 -> 35,89\n688,632 -> 106,632\n267,338 -> 414,485\n258,392 -> 258,107\n604,964 -> 139,499\n975,191 -> 977,191\n861,960 -> 93,192\n979,570 -> 439,570\n961,21 -> 63,919\n312,419 -> 881,419\n507,779 -> 507,79\n775,447 -> 645,447\n34,928 -> 626,928\n786,515 -> 786,34\n81,269 -> 734,922\n938,264 -> 266,264\n799,271 -> 799,713\n765,860 -> 765,43\n967,869 -> 135,37\n920,757 -> 602,439\n419,814 -> 655,814\n22,40 -> 472,490\n136,672 -> 770,672\n667,860 -> 288,481\n311,305 -> 311,674\n163,569 -> 163,120\n801,885 -> 139,223\n551,214 -> 551,207\n594,979 -> 942,631\n347,286 -> 448,185\n161,134 -> 855,828\n861,864 -> 20,23\n309,388 -> 309,676\n582,383 -> 86,879\n930,58 -> 206,782\n538,925 -> 242,925\n379,890 -> 704,565\n338,350 -> 338,419\n916,870 -> 916,283\n101,928 -> 402,627\n899,696 -> 899,179\n96,62 -> 658,624\n950,46 -> 11,985\n914,510 -> 910,510\n98,116 -> 556,116\n165,151 -> 913,899\n822,76 -> 41,76\n878,97 -> 75,900\n476,623 -> 873,623\n257,494 -> 746,983\n638,23 -> 638,778\n969,212 -> 259,212\n186,146 -> 923,883\n799,822 -> 736,822\n628,876 -> 532,780\n388,604 -> 388,617\n591,949 -> 868,949\n92,372 -> 107,357\n274,691 -> 254,671\n169,917 -> 169,317\n792,27 -> 710,27\n215,645 -> 713,147\n886,498 -> 689,498\n955,129 -> 214,870\n561,380 -> 375,380\n391,849 -> 391,75\n181,677 -> 759,677\n347,394 -> 347,969\n52,383 -> 875,383\n498,827 -> 729,596\n125,832 -> 125,18\n799,711 -> 105,711\n952,884 -> 129,61\n123,269 -> 123,906\n792,934 -> 12,154\n955,253 -> 753,253\n676,957 -> 676,264\n437,35 -> 40,35\n661,166 -> 509,14\n72,978 -> 270,978\n554,472 -> 554,627\n914,291 -> 464,741\n450,841 -> 827,841\n846,694 -> 846,281\n391,97 -> 890,596\n859,512 -> 685,338\n349,564 -> 349,187\n473,442 -> 896,19\n383,949 -> 383,276\n568,596 -> 875,596\n298,43 -> 298,504\n482,632 -> 12,632\n44,441 -> 44,978\n210,502 -> 210,712\n191,391 -> 191,196\n27,683 -> 27,840\n47,13 -> 960,926\n81,779 -> 81,952\n914,96 -> 145,96\n444,175 -> 151,175\n293,934 -> 293,488\n106,867 -> 221,982\n669,576 -> 858,576\n713,142 -> 84,771\n60,923 -> 299,923\n376,307 -> 281,307\n904,53 -> 41,916\n763,495 -> 588,495\n62,899 -> 843,899\n63,939 -> 592,410\n294,588 -> 294,437\n920,101 -> 879,142\n688,527 -> 688,357\n679,854 -> 950,854\n636,765 -> 329,765\n939,87 -> 62,87\n952,560 -> 952,193\n466,761 -> 32,327\n189,245 -> 876,932\n42,675 -> 42,311\n787,257 -> 62,982\n934,983 -> 64,113\n548,522 -> 626,522\n942,322 -> 942,276\n267,298 -> 267,385\n632,241 -> 632,117\n192,644 -> 192,507\n627,33 -> 627,175\n350,650 -> 350,157\n807,239 -> 113,933\n294,713 -> 87,713\n81,530 -> 453,530\n539,61 -> 240,61\n893,76 -> 893,776\n39,49 -> 978,988\n733,17 -> 606,144\n19,408 -> 493,408\n364,639 -> 43,639\n873,946 -> 69,142\n825,875 -> 233,875\n708,408 -> 197,919\n990,202 -> 990,32\n370,393 -> 664,393\n764,472 -> 284,472\n308,685 -> 308,541\n917,68 -> 45,940\n397,794 -> 524,667\n525,674 -> 313,462\n475,981 -> 297,981\n728,152 -> 40,840\n265,257 -> 162,257\n621,847 -> 828,640\n547,927 -> 21,401\n351,676 -> 357,676\n668,640 -> 668,228\n138,736 -> 446,736\n912,687 -> 912,817\n718,278 -> 718,779\n674,786 -> 986,474\n812,273 -> 891,273\n46,341 -> 46,831\n404,464 -> 118,464\n277,926 -> 114,763\n231,786 -> 106,786\n266,721 -> 446,541\n42,80 -> 675,713\n422,116 -> 422,344\n922,543 -> 922,511\n525,150 -> 525,599\n862,288 -> 498,288\n961,432 -> 961,693\n895,876 -> 895,837\n619,361 -> 174,361\n275,673 -> 275,415\n950,179 -> 405,179\n460,460 -> 460,405\n222,872 -> 222,959\n451,403 -> 21,833\n570,367 -> 570,147\n260,792 -> 82,970\n586,159 -> 108,159\n956,25 -> 55,926\n71,645 -> 988,645\n540,438 -> 44,934\n230,160 -> 395,160\n811,106 -> 811,598\n819,741 -> 596,741\n347,731 -> 347,198\n503,580 -> 495,580\n30,706 -> 603,133\n257,498 -> 619,498\n232,784 -> 359,784\n826,708 -> 396,708\n14,977 -> 895,96\n964,192 -> 279,192\n611,282 -> 611,460\n207,903 -> 207,882\n969,10 -> 22,957\n403,599 -> 970,32\n712,671 -> 712,733\n795,422 -> 235,422\n47,965 -> 939,73\n925,839 -> 275,189\n102,593 -> 973,593\n389,768 -> 389,493\n234,365 -> 624,365\n50,901 -> 50,702\n345,573 -> 638,866\n798,280 -> 111,967\n258,556 -> 258,978\n966,57 -> 88,935\n171,279 -> 171,130\n238,727 -> 947,727\n683,777 -> 290,777\n552,308 -> 552,150\n81,91 -> 911,921\n845,698 -> 845,735\n712,241 -> 26,927\n120,813 -> 716,217\n947,10 -> 25,932\n395,381 -> 338,324\n408,989 -> 408,529\n600,574 -> 600,557\n46,567 -> 46,980\n983,14 -> 10,987\n984,568 -> 642,568\n543,250 -> 543,80\n765,534 -> 108,534\n89,213 -> 120,213\n893,813 -> 271,191\n133,178 -> 133,654\n468,689 -> 468,677\n970,203 -> 970,952\n892,322 -> 892,417\n593,735 -> 152,294\n839,75 -> 839,964\n746,413 -> 89,413\n535,595 -> 535,633\n771,646 -> 614,489\n572,852 -> 572,718\n125,35 -> 838,748\n122,812 -> 179,812\n467,243 -> 188,243\n713,850 -> 51,188\n633,279 -> 932,578\n428,230 -> 216,18\n94,921 -> 973,42\n513,609 -> 513,507\n826,358 -> 330,854"
	actual := NumberOfPointsWithAtLeastTwoOverlapsP2(input)
	expected := 21698
	if actual != expected {
		t.Errorf("got %d, expected %d", actual, expected)
	}
}